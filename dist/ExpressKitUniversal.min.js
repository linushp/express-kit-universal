!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.ExpressKitUniversal=n():t.ExpressKitUniversal=n()}(this,function(){return function(t){function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var e={};return n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=1)}([function(t,n,e){"use strict";t.exports=function(){function t(t){u="var ",o={},o[a]=1;for(var r=t.split(i),s="",l=0,f=r.length;f>l;l++){var v=r[l],m=v.split(c);1==m.length?s+=n(m[0]):(s+=e(m[0]),s+=m[1]?n(m[1]):"")}var d=u+p[0]+s+"return "+p[3];return d="try{"+d+" }catch(e){ console.log(e); return e;}",Function("$data","window",d)}function n(t){return t=t.replace(/('|"|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n"),(t=p[1]+'"'+t+'"'+p[2])+"\n"}function e(t){return/^=/.test(t)&&(t=p[1]+t.substring(1).replace(/[\s;]*$/,"")+p[2]),r(t),t+"\n"}function r(t){t=t.replace(/\/\*.*?\*\/|'[^']*'|"[^"]*"|\.[\$\w]+/g,"");for(var n=t.split(/[^\$\w\d]+/),e=0,r=n.length;r>e;e++){var i=n[e];!i||l[i]||/^\d/.test(i)||(o[i]||(u+="print"===i?p[4]:i+'=$data.hasOwnProperty("'+i+'")?$data.'+i+":window."+i+",",o[i]=1))}}for(var o,i="<%",c="%>",a="$return",u="var ",p="".trim?[a+' = "";',a+" +=",";",a+";","print=function(){"+a+'+=[].join.call(arguments,"")},']:[a+" = [];",a+".push(",")",a+'.join("");',"print=function(){"+a+".push.apply(arguments)},"],s="break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield".split(","),l={},f=0,v=s.length;v>f;f++)l[s[f]]=1;return function(n,e,r){var o=t(n);return e?o(e,r):o}}()},function(t,n,e){"use strict";function r(t){return"[object Object]"===Object.prototype.toString.call(t)}function o(t){return"[object Function]"===Object.prototype.toString.call(t)}function i(t){return"[object String]"===Object.prototype.toString.call(t)}function c(t,n){for(var e in n)if(n.hasOwnProperty(e)){var r=n[e];t[e]=r}return t}function a(t,n){if(n&&n.length>0){var e=s(n);e&&(a(t,e.base_component),c(t,e))}}function u(t,n){return r(n)&&"eku_render_component"===n.eku_type&&(n.$render=function(t,e){e=e||{};var r=_;return a(e,n.base_component),c(e,n),o(t)?t(e,r):g(t)(e,r)}),_[t]=n,n}function p(t,n){var e={eku_type:"eku_render_component"},o=0,i=t+"----",c=null;for(var a in n)if(n.hasOwnProperty(a)&&0===a.indexOf(i)){var p=n[a],s=p.foo_name;e[s]=function(t){var n=t.content||"",e=g(n),o=t.propsMap||{};o.base_component&&o.base_component.length>0&&(c=o.base_component.trim());var i=(o.params||"").trim(),a=i.split(",");return function(t){var n={};if(a.length>0)for(var o=Array.prototype.slice.apply(arguments),i=0;a.length>i;i++){var c=a[i];c&&c.trim().length>0&&(c=c.trim(),n[c]=o[i])}else r(t)&&(n=t);return this.$render(e,n)}}(p),o++}return o>0?(e.base_component=c,u(t,e)):null}function s(t){var n=_[t];if(n)return n;var e=_[h];return e?p(t,e):void 0}function l(t,n){if(r(t))c(t,n);else if(i(t)){var e=s(t);if(!r(e))throw console.log("cannot find component of :"+t,e),Error("cannot find component of :"+t);c(e,n)}}function f(t){var n={};for(var e in t)if(t.hasOwnProperty(e)){var r=t[e];n[e]=u(e,r)}return n}function v(){return _}function m(t){_[h]=t}function d(){_={}}var g=e(0),_={},h="__HTML2JS_TPL__";t.exports={set_html2js_tpl:m,get_component:s,get_all_components:v,clear_all_components:d,extend_component:l,register_component:u,register_components:f,register_component_by_template:p}}])});