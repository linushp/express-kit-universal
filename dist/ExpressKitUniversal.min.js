!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.ExpressKitUniversal=n():t.ExpressKitUniversal=n()}(this,function(){return function(t){function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var e={};return n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=1)}([function(t,n,e){"use strict";t.exports=function(){function t(t){u="var ",o={},o[a]=1;for(var r=t.split(i),s="",f=0,l=r.length;l>f;f++){var v=r[f],d=v.split(c);1==d.length?s+=n(d[0]):(s+=e(d[0]),s+=d[1]?n(d[1]):"")}var m=u+p[0]+s+"return "+p[3];return m="try{"+m+" }catch(e){ console.log(e); return e;}",Function("$data","window",m)}function n(t){return t=t.replace(/('|"|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n"),(t=p[1]+'"'+t+'"'+p[2])+"\n"}function e(t){return/^=/.test(t)&&(t=p[1]+t.substring(1).replace(/[\s;]*$/,"")+p[2]),r(t),t+"\n"}function r(t){t=t.replace(/\/\*.*?\*\/|'[^']*'|"[^"]*"|\.[\$\w]+/g,"");for(var n=t.split(/[^\$\w\d]+/),e=0,r=n.length;r>e;e++){var i=n[e];!i||f[i]||/^\d/.test(i)||(o[i]||(u+="print"===i?p[4]:i+'=$data.hasOwnProperty("'+i+'")?$data.'+i+":window."+i+",",o[i]=1))}}for(var o,i="<%",c="%>",a="$return",u="var ",p="".trim?[a+' = "";',a+" +=",";",a+";","print=function(){"+a+'+=[].join.call(arguments,"")},']:[a+" = [];",a+".push(",")",a+'.join("");',"print=function(){"+a+".push.apply(arguments)},"],s="break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield".split(","),f={},l=0,v=s.length;v>l;l++)f[s[l]]=1;return function(n,e,r){var o=t(n);return e?o(e,r):o}}()},function(t,n,e){"use strict";function r(t){return"[object Object]"===Object.prototype.toString.call(t)}function o(t){return"[object Function]"===Object.prototype.toString.call(t)}function i(t){return"[object String]"===Object.prototype.toString.call(t)}function c(t,n){for(var e in n)if(n.hasOwnProperty(e)){var r=n[e];t[e]=r}return t}function a(t,n){if(n&&n.length>0){var e=s(n);e&&(a(t,e.base_component),c(t,e))}}function u(t,n){return r(n)&&"eku_render_component"===n.type&&(n.$render=function(t,e){e=e||{};var r=g;return a(e,n.base_component),c(e,n),o(t)?t(e,r):m(t)(e,r)}),g[t]=n,n}function p(t,n){var e={type:"eku_render_component"},r=0,o=t+"----",i=null;for(var c in n)if(n.hasOwnProperty(c)&&0===c.indexOf(o)){var a=n[c],p=a.foo_name;e[p]=function(t){var n=t.content||"",e=m(n),r=t.propsMap||{};r.base_component&&r.base_component.length>0&&(i=r.base_component.trim());var o=(r.params||"").trim(),c=o.split(",");return function(){for(var t=Array.prototype.slice.apply(arguments),n={},r=0;c.length>r;r++){var o=c[r];o&&o.trim().length>0&&(o=o.trim(),n[o]=t[r])}return this.$render(e,n)}}(a),r++}return r>0?(e.base_component=i,u(t,e)):null}function s(t){var n=g[t];if(n)return n;var e=g[h];return e?p(t,e):void 0}function f(t,n){if(r(t))c(t,n);else if(i(t)){var e=s(t);if(!r(e))throw console.log("cannot find component of :"+t,e),Error("cannot find component of :"+t);c(e,n)}}function l(t){var n={};for(var e in t)if(t.hasOwnProperty(e)){var r=t[e];n[e]=u(e,r)}return n}function v(){return g}function d(t){g[h]=t}var m=e(0),g={},h="__HTML2JS_TPL__";t.exports={set_html2js_tpl:d,get_component:s,get_all_components:v,extend_component:f,register_component:u,register_components:l,register_component_by_template:p}}])});